(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26445242"],{"159b":function(t,e,a){var n=a("da84"),o=a("fdbc"),i=a("17c2"),r=a("9112");for(var c in o){var s=n[c],l=s&&s.prototype;if(l&&l.forEach!==i)try{r(l,"forEach",i)}catch(u){l.forEach=i}}},"17c2":function(t,e,a){"use strict";var n=a("b727").forEach,o=a("a640"),i=a("ae40"),r=o("forEach"),c=i("forEach");t.exports=r&&c?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"1ac2":function(t,e,a){},4160:function(t,e,a){"use strict";var n=a("23e7"),o=a("17c2");n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"5fdc":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"video-item",on:{click:function(e){return t.$emit("videoClick",t.videoInfo.id)}}},[a("div",{staticClass:"img-wrapper"},[a("img",{attrs:{src:t.videoInfo.img,alt:""}}),a("div",{staticClass:"video-bottom clearfix"},[a("span",{staticClass:"play-count play-info"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-play"}})]),t._v(" 2233 ")]),a("span",{staticClass:"comment-count play-info"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-comment"}})]),t._v(" "+t._s(t.videoInfo.commentlen||666)+" ")])])]),a("span",{staticClass:"video-title"},[t._v(t._s(t.videoInfo.name))])])},o=[],i=(a("b1b3"),{props:["videoInfo"]}),r=i,c=(a("f2a4"),a("2877")),s=Object(c["a"])(r,n,o,!1,null,"20c1324f",null);e["a"]=s.exports},"75fd":function(t,e,a){},9083:function(t,e,a){"use strict";var n=a("75fd"),o=a.n(n);o.a},bb51:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.category?a("div",{staticClass:"page"},[a("div",{staticClass:"navbar-wrapper"},[a("NavBar",{attrs:{userInfo:t.model}})],1),a("div",{staticClass:"video-wrapper"},[a("div",{staticClass:"edit-category",on:{click:t.editCategory}},[a("van-icon",{attrs:{name:"setting-o",size:"5vw",color:"#666"}})],1),a("van-tabs",{attrs:{swipeable:"",animated:"","swipe-threshold":"4",sticky:"",color:t.biliColor},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.category,(function(e,n){return a("van-tab",{key:n,attrs:{title:e.name}},[a("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了","immediate-check":!1,offset:"10"},on:{load:t.loadMore},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("div",{staticClass:"video-item-wrapper"},t._l(e.content,(function(e,n){return a("video-item",{key:n,staticClass:"video-item",attrs:{videoInfo:e},on:{videoClick:t.onVideoClick}})})),1)])],1)})),1)],1)]):t._e()},o=[],i=(a("4160"),a("fb6a"),a("159b"),a("2909")),r=(a("96cf"),a("1da1")),c=a("d000"),s=a("5fdc"),l=a("18f5"),u={components:{NavBar:c["a"],VideoItem:s["a"]},data:function(){return{model:null,category:[],active:0,loading:!1,biliColor:"#fb7299"}},activated:function(){this.getCategory(),localStorage.getItem("token")&&localStorage.getItem("username")&&this.getUserInfo()},methods:{loadMore:function(){var t=this,e=this.category[this.active];setTimeout((function(){e.sliceIndex+=10,e.sliceIndex>e.contentLength&&(e.sliceIndex=e.contentLength,e.finished=!0),e.content=e.allContent.slice(0,e.sliceIndex),t.loading=!1}),1e3)},getUserInfo:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["l"])(localStorage.getItem("username"));case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()},getCategory:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!localStorage.getItem("category")){e.next=5;break}a=JSON.parse(localStorage.getItem("category")),t.category=a,e.next=9;break;case 5:return e.next=7,Object(l["a"])();case 7:n=e.sent,t.category=n.data.category;case 9:t.category.forEach((function(e){t.$set(e,"content",[]),t.$set(e,"allContent",[]),t.$set(e,"sliceIndex",10),t.$set(e,"finished",!1),t.$set(e,"loading",!1),t.$set(e,"contentLength",void 0),t.$set(e,"allContentDone",!1)})),t.getContent();case 11:case"end":return e.stop()}}),e)})))()},getContent:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=t.category[t.active],o){e.next=3;break}return e.abrupt("return");case 3:if(!o.finished){e.next=5;break}return e.abrupt("return");case 5:if(!o.allContentDone){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,Object(l["o"])(o.id);case 9:r=e.sent,(a=o.content).push.apply(a,Object(i["a"])(r.data.videos.slice(0,o.sliceIndex))),(n=o.allContent).push.apply(n,Object(i["a"])(r.data.videos)),o.contentLength=r.data.videos.length,200===r.data.status&&(o.allContentDone=!0);case 14:case"end":return e.stop()}}),e)})))()},onVideoClick:function(t){this.$router.push("/videoDetail/"+t)},editCategory:function(){this.$router.push("/editcategory")}},mounted:function(){localStorage.getItem("token")&&localStorage.getItem("username")&&this.getUserInfo(),this.getCategory()},watch:{active:function(){this.getContent()}}},d=u,f=(a("9083"),a("2877")),v=Object(f["a"])(d,n,o,!1,null,"64739da6",null);e["default"]=v.exports},f2a4:function(t,e,a){"use strict";var n=a("1ac2"),o=a.n(n);o.a}}]);
//# sourceMappingURL=chunk-26445242.958096e3.js.map